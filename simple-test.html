<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NK Camp - ê°„ë‹¨ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
            margin: 0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .status {
            background: #f0f0f0;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 4px solid #007cba;
        }
        
        .error {
            background: #fee;
            border-left-color: #e74c3c;
            color: #c0392b;
        }
        
        .success {
            background: #efe;
            border-left-color: #27ae60;
            color: #27ae60;
        }
        
        iframe {
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¢ NK Camp ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© í…ŒìŠ¤íŠ¸</h1>
        
        <div id="library-status">
            <div class="status">ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© í™•ì¸ ì¤‘...</div>
        </div>
        
        <h2>1. ì§ì ‘ embed.html í…ŒìŠ¤íŠ¸</h2>
        <iframe src="./embed.html" width="100%" height="400px"></iframe>
        
        <h2>2. ë‹¤í¬ í…Œë§ˆ í…ŒìŠ¤íŠ¸</h2>
        <iframe src="./embed.html?theme=dark" width="100%" height="400px"></iframe>
        
        <div id="console-log" style="background: #000; color: #0f0; padding: 15px; border-radius: 5px; font-family: monospace; margin: 20px 0; height: 200px; overflow-y: auto;">
            <div>Console Log:</div>
        </div>
    </div>

    <script>
        // CDN ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© í…ŒìŠ¤íŠ¸
        function testLibraries() {
            const statusDiv = document.getElementById('library-status');
            
            // React í…ŒìŠ¤íŠ¸
            const reactScript = document.createElement('script');
            reactScript.src = 'https://unpkg.com/react@18/umd/react.production.min.js';
            reactScript.onload = function() {
                addStatus('âœ… React 18 ë¡œë”© ì„±ê³µ', 'success');
                
                // ReactDOM í…ŒìŠ¤íŠ¸
                const reactDOMScript = document.createElement('script');
                reactDOMScript.src = 'https://unpkg.com/react-dom@18/umd/react-dom.production.min.js';
                reactDOMScript.onload = function() {
                    addStatus('âœ… ReactDOM 18 ë¡œë”© ì„±ê³µ', 'success');
                    
                    // Recharts í…ŒìŠ¤íŠ¸
                    const rechartsScript = document.createElement('script');
                    rechartsScript.src = 'https://unpkg.com/recharts@2.8.0/umd/Recharts.js';
                    rechartsScript.onload = function() {
                        addStatus('âœ… Recharts 2.8.0 ë¡œë”© ì„±ê³µ', 'success');
                        addStatus('ğŸ‰ ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì™„ë£Œ!', 'success');
                        testReactComponent();
                    };
                    rechartsScript.onerror = function() {
                        addStatus('âŒ Recharts ë¡œë”© ì‹¤íŒ¨', 'error');
                    };
                    document.head.appendChild(rechartsScript);
                };
                reactDOMScript.onerror = function() {
                    addStatus('âŒ ReactDOM ë¡œë”© ì‹¤íŒ¨', 'error');
                };
                document.head.appendChild(reactDOMScript);
            };
            reactScript.onerror = function() {
                addStatus('âŒ React ë¡œë”© ì‹¤íŒ¨', 'error');
            };
            document.head.appendChild(reactScript);
        }
        
        function addStatus(message, type = '') {
            const statusDiv = document.getElementById('library-status');
            const div = document.createElement('div');
            div.className = 'status ' + type;
            div.textContent = message;
            statusDiv.appendChild(div);
            
            // ì½˜ì†”ì—ë„ ì¶”ê°€
            const consoleDiv = document.getElementById('console-log');
            const logLine = document.createElement('div');
            logLine.textContent = new Date().toLocaleTimeString() + ': ' + message;
            consoleDiv.appendChild(logLine);
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        }
        
        function testReactComponent() {
            try {
                // ê°„ë‹¨í•œ React ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
                const testDiv = document.createElement('div');
                testDiv.id = 'react-test';
                document.body.appendChild(testDiv);
                
                const TestComponent = React.createElement('div', {
                    style: { 
                        background: '#e8f5e8', 
                        padding: '10px', 
                        border: '2px solid #27ae60',
                        borderRadius: '5px',
                        margin: '10px 0'
                    }
                }, 'âœ… React ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì„±ê³µ!');
                
                const root = ReactDOM.createRoot(testDiv);
                root.render(TestComponent);
                
                addStatus('âœ… React ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ í…ŒìŠ¤íŠ¸ ì„±ê³µ', 'success');
                
                // Recharts í…ŒìŠ¤íŠ¸
                if (typeof Recharts !== 'undefined') {
                    addStatus('âœ… Recharts ê°ì²´ í™•ì¸ ì™„ë£Œ', 'success');
                    addStatus('ğŸ“Š ì‚¬ìš© ê°€ëŠ¥í•œ Recharts ì»´í¬ë„ŒíŠ¸: ' + Object.keys(Recharts).slice(0, 5).join(', '), 'success');
                } else {
                    addStatus('âŒ Recharts ê°ì²´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ', 'error');
                }
                
            } catch (error) {
                addStatus('âŒ React ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ' + error.message, 'error');
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ í…ŒìŠ¤íŠ¸ ì‹œì‘
        window.addEventListener('load', function() {
            addStatus('ğŸš€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© í…ŒìŠ¤íŠ¸ ì‹œì‘');
            testLibraries();
            
            // iframe ë©”ì‹œì§€ ë¦¬ìŠ¤ë„ˆ
            window.addEventListener('message', function(e) {
                if (e.data && e.data.type) {
                    addStatus('ğŸ“¨ iframe ë©”ì‹œì§€ ìˆ˜ì‹ : ' + JSON.stringify(e.data));
                }
            });
        });
        
        // ì—ëŸ¬ ìºì¹˜
        window.addEventListener('error', function(e) {
            addStatus('âŒ JavaScript ì—ëŸ¬: ' + e.message, 'error');
        });
    </script>
</body>
</html>